
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Ember.js - Guides</title>
    <meta property="st:title" content="Guides" />
    <link rel="shortcut icon" href="/images/favicon.png" />
    <!--[if lte IE 7 ]><link href="../../../../stylesheets/fonts/fontello-ie7.css" rel="stylesheet" type="text/css" /><![endif]-->
    <link href="../../../../stylesheets/site.css" rel="stylesheet" type="text/css" />
    <link href="/blog/feed.xml" rel="alternate" type="application/atom+xml" title="Ember.js - Blog" />
    
  </head>

  <body class="guides guides_cookbook guides_cookbook_client_server_interaction guides_cookbook_client_server_interaction_serving_compiled_templates_using_nodejs guides_cookbook_client_server_interaction_serving_compiled_templates_using_nodejs_index">

    <script src="//maps.google.com/maps/api/js?v=3.13&amp;sensor=false&amp;libraries=geometry" type="text/javascript"></script>
    <script src="//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js" type="text/javascript"></script>

    <!--[if lt IE 9]>
      <script type="text/javascript" src="/javascripts/common-old-ie.js"></script>
    <![endif]-->
    <!--[if gte IE 9]><!-->
      <script type="text/javascript" src="/javascripts/common-modern.js"></script>
    <!--<![endif]-->

    <div id="header">
      <div id="wrapper">
        <a id="logo" href="/">&nbsp;</a>
        <ul id="nav">
          <li><a href="/about">about</a></li>
          <li class="active"><a href="/guides">guides</a></li>
          <li><a href="/api">api</a></li>
          <li><a href="/community">community</a></li>
          <li><a href="/blog">blog</a></li>
          <li><a href="/builds">builds</a></li>
          <li id="search">
            <form>
              <input type="text" id="st-search-input" class="st-search-input" />
            </form>
            <div id="st-results-container"></div>
          </li>
        </ul>

        <div id="github">
          <a href="https://github.com/emberjs/ember.js"><i class="icon-fork"></i>Fork Us!</a>
        </div>
      </div>
    </div>

    

    <div id="content-wrapper">
        <div id="sidebar">
              <ol id="toc-list">
          <li class="level-1">
            <a href="../../../getting-started/">Getting Started</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../getting-started/">Getting Started</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/planning-the-application/">Planning The Application</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/creating-a-static-mockup/">Creating a Static Mockup</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/obtaining-emberjs-and-dependencies/">Obtaining Ember.js and Dependencies</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/adding-a-route-and-template/">Adding the First Route and Template</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/modeling-data/">Modeling Data</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/using-fixtures/">Using Fixtures</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/displaying-model-data/">Displaying Model Data</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/displaying-a-models-completeness/">Displaying a Model's Complete State</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/creating-a-new-model/">Creating a New Model Instance</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/marking-a-model-as-complete-incomplete/">Marking a Model as Complete or Incomplete</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/displaying-the-number-of-incomplete-todos/">Displaying the Number of Incomplete Todos</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/toggle-todo-editing-state/">Toggling between Showing and Editing States</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/accepting-edits/">Accepting Edits</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/deleting-todos/">Deleting a Model</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/adding-child-routes/">Adding Child Routes</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/show-only-incomplete-todos/">Transitioning to Show Only Incomplete Todos</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/show-only-complete-todos/">Transitioning to Show Only Complete Todos</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/show-all-todos-again/">Transitioning back to Show All Todos</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/display-a-button-to-remove-completed-todos/">Displaying a Button to Remove All Completed Todos</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/show-when-all-todos-are-complete/">Indicating When All Todos Are Complete</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/toggle-all-todos/">Toggling All Todos Between Complete and Incomplete</a>
            </li>
          
            <li class="level-3">
              <a href="../../../getting-started/using-other-adapters/">Replacing the Fixture Adapter with Another Adapter</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../getting-ember/">Getting Ember</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../getting-ember/">Getting Ember</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../concepts/core-concepts/">Concepts</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../concepts/core-concepts/">Core Concepts</a>
            </li>
          
            <li class="level-3">
              <a href="../../../concepts/naming-conventions/">Naming Conventions</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../object-model/classes-and-instances/">The Object Model</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../object-model/classes-and-instances/">Classes and Instances</a>
            </li>
          
            <li class="level-3">
              <a href="../../../object-model/computed-properties/">Computed Properties</a>
            </li>
          
            <li class="level-3">
              <a href="../../../object-model/computed-properties-and-aggregate-data/">Computed Properties and Aggregate Data with @each</a>
            </li>
          
            <li class="level-3">
              <a href="../../../object-model/observers/">Observers</a>
            </li>
          
            <li class="level-3">
              <a href="../../../object-model/bindings/">Bindings</a>
            </li>
          
            <li class="level-3">
              <a href="../../../object-model/reopening-classes-and-instances/">Reopening Classes and Instances</a>
            </li>
          
            <li class="level-3">
              <a href="../../../object-model/what-do-i-use-when/">Bindings, Observers, Computed Properties: What Do I Use When?</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../application/">Application</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../application/">Introduction</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../templates/the-application-template/">Templates</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../templates/the-application-template/">The Application Template</a>
            </li>
          
            <li class="level-3">
              <a href="../../../templates/handlebars-basics/">Handlebars Basics</a>
            </li>
          
            <li class="level-3">
              <a href="../../../templates/conditionals/">Conditionals</a>
            </li>
          
            <li class="level-3">
              <a href="../../../templates/displaying-a-list-of-items/">Displaying a List of Items</a>
            </li>
          
            <li class="level-3">
              <a href="../../../templates/binding-element-attributes/">Binding Element Attributes</a>
            </li>
          
            <li class="level-3">
              <a href="../../../templates/binding-element-class-names/">Binding Element Class Names</a>
            </li>
          
            <li class="level-3">
              <a href="../../../templates/links/">Links</a>
            </li>
          
            <li class="level-3">
              <a href="../../../templates/actions/">Actions</a>
            </li>
          
            <li class="level-3">
              <a href="../../../templates/input-helpers/">Input Helpers</a>
            </li>
          
            <li class="level-3">
              <a href="../../../templates/development-helpers/">Development Helpers</a>
            </li>
          
            <li class="level-3">
              <a href="../../../templates/rendering-with-helpers/">Rendering with Helpers</a>
            </li>
          
            <li class="level-3">
              <a href="../../../templates/writing-helpers/">Writing Helpers</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../routing/">Routing</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../routing/">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="../../../routing/defining-your-routes/">Defining Your Routes</a>
            </li>
          
            <li class="level-3">
              <a href="../../../routing/generated-objects/">Generated Objects</a>
            </li>
          
            <li class="level-3">
              <a href="../../../routing/specifying-a-routes-model/">Specifying a Route's Model</a>
            </li>
          
            <li class="level-3">
              <a href="../../../routing/setting-up-a-controller/">Setting Up a Controller</a>
            </li>
          
            <li class="level-3">
              <a href="../../../routing/rendering-a-template/">Rendering a Template</a>
            </li>
          
            <li class="level-3">
              <a href="../../../routing/redirection/">Redirecting</a>
            </li>
          
            <li class="level-3">
              <a href="../../../routing/specifying-the-location-api/">Specifying the URL Type</a>
            </li>
          
            <li class="level-3">
              <a href="../../../routing/query-params/">Query Parameters</a>
            </li>
          
            <li class="level-3">
              <a href="../../../routing/asynchronous-routing/">Asynchronous Routing</a>
            </li>
          
            <li class="level-3">
              <a href="../../../routing/loading-and-error-substates/">Loading / Error Substates</a>
            </li>
          
            <li class="level-3">
              <a href="../../../routing/preventing-and-retrying-transitions/">Preventing and Retrying Transitions</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../components/">Components</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../components/">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="../../../components/defining-a-component/">Defining a Component</a>
            </li>
          
            <li class="level-3">
              <a href="../../../components/passing-properties-to-a-component/">Passing Properties to a Component</a>
            </li>
          
            <li class="level-3">
              <a href="../../../components/wrapping-content-in-a-component/">Wrapping Content in a Component</a>
            </li>
          
            <li class="level-3">
              <a href="../../../components/customizing-a-components-element/">Customizing a Component's Element</a>
            </li>
          
            <li class="level-3">
              <a href="../../../components/handling-user-interaction-with-actions/">Handling User Interaction with Actions</a>
            </li>
          
            <li class="level-3">
              <a href="../../../components/sending-actions-from-components-to-your-application/">Sending Actions from Components to Your Application</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../controllers/">Controllers</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../controllers/">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="../../../controllers/representing-a-single-model-with-objectcontroller/">Representing a Single Model with ObjectController</a>
            </li>
          
            <li class="level-3">
              <a href="../../../controllers/representing-multiple-models-with-arraycontroller/">Representing Multiple Models with ArrayController</a>
            </li>
          
            <li class="level-3">
              <a href="../../../controllers/dependencies-between-controllers/">Managing Dependencies Between Controllers</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../models/">Models</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../models/">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="../../../models/defining-models/">Defining Models</a>
            </li>
          
            <li class="level-3">
              <a href="../../../models/creating-and-deleting-records/">Creating and Deleting Records</a>
            </li>
          
            <li class="level-3">
              <a href="../../../models/pushing-records-into-the-store/">Pushing Records into the Store</a>
            </li>
          
            <li class="level-3">
              <a href="../../../models/persisting-records/">Persisting Records</a>
            </li>
          
            <li class="level-3">
              <a href="../../../models/finding-records/">Finding Records</a>
            </li>
          
            <li class="level-3">
              <a href="../../../models/working-with-records/">Working with Records</a>
            </li>
          
            <li class="level-3">
              <a href="../../../models/the-fixture-adapter/">Using Fixtures</a>
            </li>
          
            <li class="level-3">
              <a href="../../../models/the-rest-adapter/">The Rest Adapter</a>
            </li>
          
            <li class="level-3">
              <a href="../../../models/connecting-to-an-http-server/">Connecting to an HTTP Server</a>
            </li>
          
            <li class="level-3">
              <a href="../../../models/handling-metadata/">Handling Metadata</a>
            </li>
          
            <li class="level-3">
              <a href="../../../models/customizing-adapters/">Customizing Adapters</a>
            </li>
          
            <li class="level-3">
              <a href="../../../models/frequently-asked-questions/">Frequently Asked Questions</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../views/">Views</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../views/">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="../../../views/defining-a-view/">Defining a View</a>
            </li>
          
            <li class="level-3">
              <a href="../../../views/handling-events/">Handling Events</a>
            </li>
          
            <li class="level-3">
              <a href="../../../views/inserting-views-in-templates/">Inserting Views in Templates</a>
            </li>
          
            <li class="level-3">
              <a href="../../../views/adding-layouts-to-views/">Adding Layouts to Views</a>
            </li>
          
            <li class="level-3">
              <a href="../../../views/customizing-a-views-element/">Customizing a View's Element</a>
            </li>
          
            <li class="level-3">
              <a href="../../../views/built-in-views/">Built-in Views</a>
            </li>
          
            <li class="level-3">
              <a href="../../../views/manually-managing-view-hierarchy/">Manually Managing View Hierarchy</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../enumerables/">Enumerables</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../enumerables/">Introduction</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../testing/">Testing</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../testing/">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="../../../testing/integration/">Integration Tests</a>
            </li>
          
            <li class="level-3">
              <a href="../../../testing/test-helpers/">Test Helpers</a>
            </li>
          
            <li class="level-3">
              <a href="../../../testing/testing-user-interaction/">Testing User Interaction</a>
            </li>
          
            <li class="level-3">
              <a href="../../../testing/unit-testing-basics/">Unit Testing Basics</a>
            </li>
          
            <li class="level-3">
              <a href="../../../testing/unit-test-helpers/">Unit Test Helpers</a>
            </li>
          
            <li class="level-3">
              <a href="../../../testing/testing-components/">Testing Components</a>
            </li>
          
            <li class="level-3">
              <a href="../../../testing/testing-controllers/">Testing Controllers</a>
            </li>
          
            <li class="level-3">
              <a href="../../../testing/testing-routes/">Testing Routes</a>
            </li>
          
            <li class="level-3">
              <a href="../../../testing/testing-models/">Testing Models</a>
            </li>
          
            <li class="level-3">
              <a href="../../../testing/test-runners/">Automating Tests with Runners</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../configuring-ember/disabling-prototype-extensions/">Configuring Ember.js</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../configuring-ember/disabling-prototype-extensions/">Disabling Prototype Extensions</a>
            </li>
          
            <li class="level-3">
              <a href="../../../configuring-ember/embedding-applications/">Embedding Applications</a>
            </li>
          
            <li class="level-3">
              <a href="../../../configuring-ember/feature-flags/">Feature Flags</a>
            </li>
          </ol></li>
          <li class="level-1 selected">
            <a href="../../">Cookbook</a>
            <ol class='selected'>
        
            <li class="level-3">
              <a href="../../">Introduction</a>
            </li>
          
            <li class="level-3">
              <a href="/guides/cookbook/contributing.html">Contributing</a>
            </li>
          
            <li class="level-3">
              <a href="/guides/cookbook/user_interface_and_interaction.html">User Interface and Interaction</a>
            </li>
          
            <li class="level-3">
              <a href="/guides/cookbook/event_handling_and_data_binding.html">Event Handling & Data Binding</a>
            </li>
          
            <li class="level-3">
              <a href="/guides/cookbook/helpers_and_components.html">Helpers & Components</a>
            </li>
          
            <li class="level-3">
              <a href="/guides/cookbook/working_with_objects.html">Working with Objects</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="/guides/deprecations.html">Deprecations</a>
            <ol>
        
            <li class="level-3">
              <a href="/guides/deprecations.html">Deprecations/index</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../understanding-ember/the-view-layer/">Understanding Ember.js</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../understanding-ember/the-view-layer/">The View Layer</a>
            </li>
          
            <li class="level-3">
              <a href="../../../understanding-ember/managing-asynchrony/">Managing Asynchrony</a>
            </li>
          
            <li class="level-3">
              <a href="../../../understanding-ember/keeping-templates-up-to-date/">Keeping Templates Up-to-Date</a>
            </li>
          
            <li class="level-3">
              <a href="../../../understanding-ember/debugging/">Debugging</a>
            </li>
          
            <li class="level-3">
              <a href="../../../understanding-ember/run-loop/">The Run Loop</a>
            </li>
          
            <li class="level-3">
              <a href="../../../understanding-ember/dependency-injection-and-service-lookup/">Dependency Injection & Service Lookup</a>
            </li>
          </ol></li>
          <li class="level-1">
            <a href="../../../contributing/adding-new-features/">Contributing to Ember.js</a>
            <ol>
        
            <li class="level-3">
              <a href="../../../contributing/adding-new-features/">Adding New Features</a>
            </li>
          
            <li class="level-3">
              <a href="../../../contributing/repositories/">Repositories</a>
            </li>
          </ol></li></ol>

          <div id="back-to-top"><a id="back-top-top" href="#">&#11014; Back to Top</a></div>
        </div>
      <div id="content" class="has-sidebar">
        
  <div class="chapter">
    
    <hr>
    <h2 class='anchorable-toc' id='toc_problem'>Problem</h2>
<p>Ember.js uses Handlebars.js as its default templating language.  Handlebars files may be 
created directly in your HTML document as follows:
<code>html
&lt;script type=&quot;text/x-handlebars&quot; id=&quot;some-template&quot;&gt;
  {{! your template goes here}}
&lt;/script&gt;
</code>
When your Ember application uses one of these templates, it will need to compile that handlebars
syntax into a javascript function.  This takes a little bit of time and is a needless task for your
client to be performing.  Furthermore, as your application grows, having tons of these templates in
your HTML document will become unwieldy and ugly.</p>

<p>Thankfully, this compilation step can be done ahead of time.  Ember.js expects that your templates
will be found in a hash object called Ember.TEMPLATES.  You can prebuild this hash on your server
and send it down the wire with your application.</p>
<h2 class='anchorable-toc' id='toc_solution'>Solution</h2><h3 class='anchorable-toc' id='toc_disclaimer'>Disclaimer</h3>
<p>This recipe assumes you have never used node, npm, or grunt in your project.  If you have used 
these before and already have a Gruntfile.js (or .coffee) in your project, some of the early 
steps can probably be skipped or read through quickly.</p>
<h3 class='anchorable-toc' id='toc_dependencies'>Dependencies</h3>
<ol>
<li>Node.js - a javascript run-time powered by V8</li>
<li>NPM - a package manager for node modules with strong CLI tooling</li>
<li>Grunt.js - a task-runner for node.js</li>
<li>grunt-contrib-watch - a Grunt.js task for watching parts of your file system for changes</li>
<li>grunt-ember-templates - a Grunt.js task for compiling handlebars templates into Ember.TEMPLATES</li>
</ol>
<h3 class='anchorable-toc' id='toc_process'>Process</h3>
<p>All steps assume you are in your project&#39;s root.</p>
<h4 class='anchorable-toc' id='toc_setup'>Setup</h4>
<ol>
<li>Install Node.js (which now ships with NPM).</li>
<li>Type <code>npm init</code>.  This will ask you for a few quick details and then will output a 
package.json file.  This file contains a list of all your dependencies (and version number) and some
other details relevant to your project.</li>
<li>Type <code>npm install --save-dev grunt grunt-cli grunt-ember-templates grunt-contrib-watch</code>.  This will install four packages from npm.  <code>--save-dev</code> tells npm to include these dependencies in
your package.json file under <code>devDependencies</code></li>
<li>Create <code>Gruntfile.js</code> in your project root.  This file contains all the configuration
for your grunt tasks.<br></li>
<li>Open the Gruntfile and paste in the following code:</li>
</ol>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
16
17
18
19
<strong>20</strong>
21
22
23
24
25
26
27
28
29
<strong>30</strong>
31
32
33
34
35
36
37
38
39
<strong>40</strong>
41
42
43
44
45
46
47
</pre></td>
  <td class="code"><pre><span class="string"><span class="delimiter">'</span><span class="content">use strict</span><span class="delimiter">'</span></span>

module.<span class="function">exports</span> = <span class="keyword">function</span> (grunt) {

  grunt.initConfig({

    <span class="comment">//define some mustache-style variables to use throughout Gruntfile</span>
    <span class="key">templateDir</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">path/to/directory</span><span class="delimiter">&quot;</span></span>,
    <span class="key">outputDir</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">path/to/output</span><span class="delimiter">&quot;</span></span>,
    <span class="key">compiled</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">nameOfCompiledFile.js</span><span class="delimiter">&quot;</span></span>,

    <span class="comment">//configure out template precompilation task</span>
    <span class="key">emberTemplates</span>: {
      <span class="key">precompile</span>: {
        <span class="key">options</span>: {
          <span class="key">templateBasePath</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">path/to/directory/</span><span class="delimiter">&quot;</span></span> ,
          <span class="key">templateFileExtensions</span>: <span class="regexp"><span class="delimiter">/</span><span class="content">\.</span><span class="content">(hbs|hjs|handlebars)</span><span class="delimiter">/</span></span>
        },
        <span class="key">src</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;%= templateDir %&gt;/**/*.{hbs,hjs,handlebars}</span><span class="delimiter">&quot;</span></span>,
        <span class="key">dest</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;%= outputDir %&gt;/&lt;%= compiled %&gt;</span><span class="delimiter">&quot;</span></span>
      }    
    },

    <span class="comment">//configure our file watching task</span>
    <span class="key">watch</span>: {
      <span class="key">handlebars</span>: {
        <span class="key">files</span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;%= templateDir %&gt;/**/*.{hbs,hjs,handlebars}</span><span class="delimiter">&quot;</span></span>],
        <span class="key">tasks</span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">emberTemplates</span><span class="delimiter">&quot;</span></span>],
        <span class="key">options</span>: {
          <span class="key">livereload</span>: <span class="predefined-constant">true</span> 
        }
      } 
    }
  });

  <span class="comment">//load our tasks from NPM</span>
  grunt.loadNpmTasks(<span class="string"><span class="delimiter">&quot;</span><span class="content">grunt-ember-templates</span><span class="delimiter">&quot;</span></span>);
  grunt.loadNpmTasks(<span class="string"><span class="delimiter">&quot;</span><span class="content">grunt-contrib-watch</span><span class="delimiter">&quot;</span></span>);

  <span class="comment">//register CLI task that will precompile our templates</span>
  grunt.registerTask(<span class="string"><span class="delimiter">&quot;</span><span class="content">default</span><span class="delimiter">&quot;</span></span>, [<span class="string"><span class="delimiter">&quot;</span><span class="content">emberTemplates</span><span class="delimiter">&quot;</span></span>]);

  <span class="comment">//register CLI task that will watch our handlebars files and </span>
  <span class="comment">//recompile them whenever they change (watch task blocks the process)</span>
  grunt.registerTask(<span class="string"><span class="delimiter">&quot;</span><span class="content">precompile-watch</span><span class="delimiter">&quot;</span></span>, [<span class="string"><span class="delimiter">&quot;</span><span class="content">emberTemplates</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">watch</span><span class="delimiter">&quot;</span></span>]);

};
</pre></td>
</tr></table>
</div></div><h4 class='anchorable-toc' id='toc_code-overview'>Code Overview</h4>
<p>Gruntfiles are easy to read once you know what you are looking at.</p>

<p>The top declares three 
mustache.js-style variables that may be used to store directory names, filenames, etc and can
be used throughout your Gruntfile.  This is huge, as it allows you to easily change project structure
without hardcoding your paths throughout your config file.</p>

<p>The second two objects are configuration objects for the <code>emberTemplates</code> and <code>watch</code> tasks.
details on the options and configuration of these tasks is found in their respective github
repositories.  Grunt tasks typically have easily read README.md files that explain the options 
and configurations for that package.</p>

<p>The third section is where we register our tasks.  Grunt provides a convenient function 
<code>loadNpmTasks</code> to load task definitions straight from the <code>node_modules</code> directory.
We also register two CLI tasks of our own, <code>default</code> and <code>precompile-watch</code>.</p>

<p>Typing <code>grunt</code> at the terminal will run our default task which will compile our templates and
create a file in our specified output folder.  Typing <code>grunt precompile-watch</code> perform
the same compilation, but will also start a file watching process which monitors our template
directory for changes and re-runs the compilation task.</p>
<h4 class='anchorable-toc' id='toc_configuration-and-testing'>Configuration and Testing</h4>
<ol>
<li>Now that you know what you are looking at, configure your Gruntfile by changing the paths 
at the top to match your project&#39;s layout.<br></li>
<li>Test the precompilation with <code>grunt</code> and then test that your file watching task is working
by typing <code>grunt precompile-watch</code> and then saving one of your template files.</li>
<li>Fin.</li>
</ol>
<h2 class='anchorable-toc' id='toc_discussion'>Discussion</h2>
<p>Precompiling your templates is a must for Ember.js projects that grow beyond a trivial size.
The steps outlined here provide a convenient, configurable, and extensible way to perform this
important task and allow you to focus on developing your application.  The repository that this
tutorial is based on is found at http://www.github.com/stevekane/precompiled-template-recipe.</p>

<p>As a bonus, if you are interested in using <code>Emblem.js</code> which has a HAML-like syntax to 
build your templates, there is a grunt task for precompiling emblem.js templates called 
<code>grunt-emblem</code>.  The steps needed to configure this task are similar to the ones shown
but be sure to refer to the projects github repository for details.</p>

    
      <footer>
        
          <a class="previous-guide" href="../guides/configuring-ember/feature-flags">
             ← Configuring Ember.js: Feature Flags
          </a>
         
            <a class="next-guide" href="../guides/deprecations">
               We're done with Cookbook. Next up: Deprecations - Deprecations/index →
            </a>
          
      </footer>
      
  </div>

      </div>
    </div>

    <div id="footer">
      <div id="footer-wrapper">
        <div class="info">
          Copyright 2015 <a href="http://tilde.io">Tilde Inc.</a><br>
          <a href="/team">Core Team</a> | <a href="/sponsors">Sponsors</a> | <a href="/legal">Legal</a></br>
          <a href="/guidelines">Community Guidelines</a>
        </div>
        <div class="statement">Ember.js is free, open source and always will be.</div>
        <div class="links">
          <a class="twitter" href="http://twitter.com/emberjs">
            <i class="icon-twitter"></i><span>Twitter</span>
          </a>
          <a class="github" href="https://github.com/emberjs/ember.js">
            <i class="icon-github"></i><span>GitHub</span>
          </a>
          <a class="googleplus" href="https://plus.google.com/communities/106387049790387471205">
            <i class="icon-gplus"></i><span>Google+</span>
          </a>
        </div>
      </div>
    </div>

        <script type="text/javascript" src="/javascripts/guides.js"></script>
    <script src="http://static.jsbin.com/js/embed.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-27675533-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
